<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="boardMapper">

    <!-- #0010 : Mysql 로 변경 -->
    <insert id="write" parameterType="board" >
        INSERT INTO board (id,createDate, title, content,memberId)
        VALUES (#{id},now(),#{title},#{content},#{memberVO.userId})
    </insert>

    <select id="selectByNoForDate" resultType="string" parameterType="int">
        SELECT createDate FROM board
        WHERE id=#{VALUE}
    </select>


    <!-- 특정 no에 해당하는 상세글보는 resultaMap -->
    <!--<resultMap type="boardVO" id="boardRM" extends="boardListRM">-->
        <!--<result property="content" column="content"/>-->
        <!--<result property="memberVO.id" column="id"/>-->

    <!--</resultMap>-->


    <!--<select id="showContent" parameterType="string" resultMap="boardRM">-->
        <!--SELECT no, title, count, createDate, content, m.id, m.userName-->
        <!--FROM board s, member m-->
        <!--WHERE s.id = m.id AND no=#{value}-->
    <!--</select>-->


</mapper>



<!-- 오라클문법 :: write
<selectKey keyProperty="id" resultType="int" order="BEFORE">
            SELECT board_seq.nextVal FROM dual
        </selectKey>
        INSERT INTO board (id, createDate, title, content, state, userId )
        VALUES (#{id},#{sysdate},#{title},#{content},#{state},#{boardVO.userId})
-->

<!-- mysql write // 게시물의 증가는 필요없음  autoincrease & seq x
INSERT INTO board (createDate, title, content, state,memberId,count)
VALUES (now(),'#{title},#{content},'1',#{boardVO.userId},'0')


<selectKey keyProperty="no" resultType="int" order="BEFORE">
            SELECT id FROM board
        </selectKey>

useGeneratedKeys="true" keyProperty="id"

-->

